function t(r){var e=Array.isArray(r)?[]:{};for(var n in r)if(r.hasOwnProperty(n)){var i=r[n];e[n]="object"==typeof i?t(i):i}return e}var r=function(){function r(){this.__funcs=[],this.__data=[],this.__propKey="setting",this.setv=this.setv.bind(this),this.nested=this.nested.bind(this),this.settingToArr=this.settingToArr.bind(this),this.bulk=this.bulk.bind(this),this.setValues=this.setValues.bind(this),this.use=this.use.bind(this),this.gen=this.gen.bind(this)}return r.prototype.setv=function(t,r){var e=t.length-1;t.reduce((function(t,n,i){return i===e&&(t[n]=r),t[n]}),this.__data)},r.prototype.nested=function(r,e,n){var i=this;if(n>1){var s=t(r);n--,r.forEach((function(t){t.hasOwnProperty(e)||(t[e]=s,i.nested(t[e],e,n))}))}return r},r.prototype.settingToArr=function(r,e){if(e){var n=function(t){var r=e[t],n="number"==typeof r?r:Array.isArray(r)&&2===r.length?Math.floor(Math.random()*(r[1]-r[0])+r[0]):1;return!n||n<1?1:n},i=n("length"),s=new Array(i);delete r[this.__propKey],e.remove&&e.remove.forEach((function(t){r.hasOwnProperty(t)&&delete r[t]})),e.renew&&(r=Object.assign?Object.assign(r,e.renew):function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t}(r,e.renew));for(var o=0;o<i;o++)s[o]=t(r);if("string"==typeof e.child&&e.child){var a=e.child;r[a]=this.nested(s,a,n("level"))}else r=s}return r},r.prototype.bulk=function(){var t=this,r=function(e,n){var i,s;!Array.isArray(e)&&e.hasOwnProperty(t.__propKey)&&("number"==typeof(s=(i=e)[t.__propKey])||Array.isArray(s)&&2===s.length&&"number"==typeof s[0]&&"number"==typeof s[1]?s={length:s}:Array.isArray(s)&&s.length>=2&&"number"==typeof s[0]&&!0===s[1]&&(s={length:s[0],child:"children",level:"number"==typeof s[2]?s[2]:1}),e=i=t.settingToArr(i,s),n?t.setv(n,e):t.setv([],t.__data=e));var o=function(t){if(e.hasOwnProperty(t)){var i=e[t];Array.isArray(i)&&"▒"!==i[0]?i.forEach((function(e,i){return r(e,n?n.concat([t,i]):[t,i])})):Array.isArray(i)||"object"!=typeof i||r(i,n?n.concat([t]):[t])}};for(var a in e)o(a)};r(this.__data)},r.prototype.setValues=function(t,r){var e=this;if(Array.isArray(t))if("▒"===t[0]){var n=r||[],i=this.__funcs[t[1]].concat();try{this.setv(n,i.length>0?i[0].apply(i,i[1]):t)}catch(r){throw new Error((n.length>0?n.join("."):t)+": error, "+r)}}else t.forEach((function(t,n){return e.setValues(t,r?r.concat([n]):[n])}));else"object"==typeof t&&Object.keys(t).forEach((function(n){return e.setValues(t[n],r?r.concat([n]):[n])}))},r.prototype.use=function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return["▒",this.__funcs.push([t,r])-1]},r.prototype.gen=function(t,r){if("object"==typeof t)return r&&(this.__propKey=r),this.__data=t,this.bulk(),this.setValues(this.__data),this.__data},r}();export default r;
//# sourceMappingURL=shai.js.map
